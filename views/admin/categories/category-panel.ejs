<div class="container mt-2">
    <h2 class="text-center">Kategori Yönetimi</h2>
    <br>
    <form action="/admin/categories/add" method="POST" class="d-flex flex-wrap mb-4 justify-content-center align-items-center">
        <input type="text" name="name" class="form-control me-2 mb-2" style="max-width: 300px;" placeholder="Yeni kategori adı">

        <div class="d-flex align-items-center">
            <input type="color" name="color" class="form-control form-control-color me-2 mb-2 color-picker" value="<%= color %>">
            <button type="submit" class="btn btn-primary mb-2">Ekle</button>
        </div>
    </form>

    <ul class="list-group mx-auto" style="max-width: 600px;">
        <% categories.forEach(category => { %>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span class="d-flex align-items-center">
                    <span style="display: inline-block; width: 20px; height: 20px; border-radius: 10px; background-color: <%= category.color %>; margin-right: 10px;"></span>
                    <%= category.name %>
                </span>

                <div class="d-flex gap-2">
                    <a href="/admin/categories/edit/<%= category._id %>" class="btn btn-sm btn-warning">Düzenle</a>
                    <form action="/admin/categories/delete/<%= category._id %>" method="POST" onsubmit="return confirm('Silmek istediğine emin misin?');">
                        <button type="submit" class="btn btn-sm btn-danger">Sil</button>
                    </form>
                </div>
            </li>
        <% }) %>
    </ul>
</div>

<style>
    /* Renk seçici için genel düzenlemeler */
    .color-picker {
        width: 50px !important;
        height: 38px !important;
        max-width: 50px !important;
        padding: 1px !important;
        border-radius: 0.375rem !important;
        cursor: pointer;
    }

    .color-picker::-webkit-color-swatch-wrapper {
        padding: 0;
        border: none;
        border-radius: 0.25rem;
    }

    .color-picker::-webkit-color-swatch {
        border: none;
        border-radius: 0.25rem;
    }

    .color-picker::-moz-color-swatch {
        border: none;
        border-radius: 0.25rem;
    }

    @media (max-width: 768px) {
        form {
            flex-direction: column;
            align-items: center;
        }

        form .form-control:not(.color-picker) {
            width: 100%;
            max-width: 300px;
        }

        ul.list-group {
            width: 100%;
        }

        .list-group-item {
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }
    }
</style>
